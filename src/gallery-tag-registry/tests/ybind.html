<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />        
        <title>YUI Tag</title>
        <script type="text/javascript" src="../../../../yui3/build/yui/yui.js"></script>
        <script type="text/javascript">
        var Y = YUI({
            modules: {
                'gallery-event-inserted': '../../../build/gallery-event-inserted/gallery-event-inserted.js',
                'gallery-tag': '../../../build/gallery-tag/gallery-tag.js?zz'
            },
            groups: {tag: {patterns: {'tag-': {configFn: function(cfg) {
                cfg.path = '../../yui3-gallery/build/gallery-tag-registry/' + cfg.name + '.js'
            }}}}}
        })
        </script>
    </head>
    <body>
        <h2>Data Binding</h2>

            <h3>Keyup Binding</h3>
            <input id="name" ybind ybind:onkeyup="" type="text" placeholder="Enter your name" />
            <p>Hello, <span ybind="ybind.name"></span>! Have a good day, <span ybind="ybind.name"></span>.</p>

            <h3>Change Binding</h3>
            <input id="age" ybind ybind:onchange="" type="range" />
            <p>Age: <span ybind="ybind.age"></span></p>

            <h3>Advanced</h3>
            <click-counter>
                <span ybind="ClickCounter.getCount()"></span> of <span ybind="ClickCounter.count"></span>

                <form ybind ybind-onsubmit="ClickCounter.submit()">
                    <input type="submit" value="Click" />
                </form>
            </click-counter>

        <script type="text/javascript">
        Y.use('gallery-tag', function(Y) {

            /*
            Y.Tag.register('[ybind]', {
                created: function(config) {
                    this.get('host').all('[ybind]').each(function(n) {
                        Y.Array.each(n.getDOMNode().attributes, function(attr) {
                            console.log(attr.name, attr.value);
                        });
                    });
                },

                subscribe: function() {
                }
            });
            */

            /*
            Y.Tag.register('ClickCounter', {
                created: function(config) {
                    this.addAttr('count', {value: 0, testing: 1});

                    console.log(this._getAttrs(['count']));
                },

                getCount: function() {
                    return this.get('count');
                }
            });

            Y.Tag.register('yvalue', {
                created: function(config) {
                    var match = /^([_a-zA-Z]+)\.([_a-zA-Z]+)(\(\))?;?$/g.exec(config.prop),
                        tag = match[1],
                        property = match[2],
                        method = match[3],
                        obj = this.get('host').ancestor(tag).tag;

                    obj.on('attrsChanged', function(e) {
                        this.get('host').setHTML(method ? obj[property]() : obj.get(property));
                    }, this);
                }
            });
            */
        });

        //Y.use('tag-ybind');
        </script>
    </body>
</html>