YUI.add("gallery-tag",function(e){var d=e.namespace("Tag"),f={},c=false;d.register=function(h,g){h=h.toLowerCase();if(h.indexOf("[")){c=true;}f[h]={mixin:g,handle:e.on("inserted",function(i){i.target.fire("tag:inserted");},h)};};d.unregister=function(g){g=g.toLowerCase();if(f[g]){f[g].handle.detach();delete f[g];}};d.registered=function(g){g=g.toLowerCase();return g?g in f:Object.keys(f);};function a(g){a.superclass.constructor.apply(this,arguments);}a.NAME="tagPlugin";a.NS="tag";a.ATTRS={};function b(i){var h={grouped:{data:{}},ungrouped:{}};function j(k){return k.replace(/-([a-z])/g,function(n,m){return m.toUpperCase();});}function g(l){var k=/^i:(-?[0-9]+)$/.exec(l);if(k){return parseInt(k[1],10);}return l;}e.Array.each(i,function(k){var m=k.name,o=k.value,n="data-",l=m.indexOf(":"),p;if(m.indexOf(n)===0){m=j(m.substr(n.length));h.grouped.data[m]=g(o);}else{if(l>=0){p=m.substr(0,l);if(!h.grouped[p]){h.grouped[p]={};}m=j(m.substr(l+1));h.grouped[p][m]=g(o);}else{h.ungrouped[m]=g(o);}}});return h;}e.extend(a,e.Plugin.Base,{initializer:function(){var j=this.get("host"),g=(j.get("tagName")||"").toLowerCase(),h=[],i;if(f[g]){i=i||b(j.getDOMNode().attributes);h.push({obj:f[g].mixin,config:i.grouped.data});}if(c){i=i||b(j.getDOMNode().attributes);e.each(i.ungrouped,function(m,l){var k="["+l+"]";if(k in f){h.push({obj:f[k].mixin,config:i.grouped[l]||{}});}});}if(h.length){e.Array.each(h,function(k){e.mix(this,k.obj);if(k.obj.created){k.obj.created.call(this,k.config);}},this);}}});e.Node.plug(a);},"@VERSION@",{skinnable:false,requires:["node","base","plugin","gallery-event-inserted"]});