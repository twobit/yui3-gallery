<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Custom HTML Tags with YUI</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Maven+Pro:400,700" />
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css" />
    <link rel="stylesheet" href="index.css" />
    <script src="http://yui.yahooapis.com/3.5.0/build/yui/yui-min.js"></script>

    <script type="text/javascript">
    var Y = YUI({
        //Last Gallery Build of this module
        gallery: 'gallery-2012.07.25-21-36',
        groups: {tag: {
            combine: true,
            root: 'gallery-2012.07.25-21-36',
            patterns: {'tag-': {configFn: function(cfg) {
                cfg.path = '/build/gallery-tag-registry/' + cfg.name + '-min.js'
            }}}
        }}
    }).use('gallery-tag', 'datatype', function(Y) {
        Y.Tag.register('slide', {
            created: function(config) {
                this.get('host').append('<div class="paginator"><span class="number"></span>/<span class="total"></span></div>');

                this.addAttr('number', {
                    setter: function(value) {
                        this.get('host').set('id', 'slide-' + value);
                        this.get('host').one('.number').setHTML(value);
                    }
                });

                this.addAttr('total', {
                    setter: function(value) {
                        this.get('host').one('.total').setHTML(value);
                    }
                });
            }
        });

        Y.Tag.register('slides', {
            created: function(config) {
                this.get('host').all('slide').each(function(slide, index, slides) {
                    slide.tag.set('number', index + 1);
                    slide.tag.set('total', slides.size());
                }, this);
            }
        });
    });
    </script>
</head>
<body>
    <slides>
        <slide>
            <hgroup>
                <h1>Custom HTML Tags with YUI</h1>
                <h3>How to Use the <a href="http://yuilibrary.com/gallery/show/tag">Tag Module</a></h3>
            </hgroup>
            <article>
                <ul>
                    <li>Stephen Murphy</li>
                    <li>Yahoo! Search Team</li>
                </ul>
            </article>

            <img src="img/yahoo.gif" />
        </slide>

        <slide>
            <hgroup>
                <h2>Who Am I?</h2>
            </hgroup>
            <article>
                <ul>
                    <li>Senior Software Engineer</li>
                    <li>Yahoo! Search Team</li>
                </ul>
                <ul>
                    <li><a href="http://twitter.com/hypernaut">@hypernaut</a></li>
                    <li><a href="http://github.com/twobit">GitHub</a></li>
                    <li><a href="http://hypernaut.com">Portfolio</a></li>
                </ul>
                <img src="img/me.jpg" />
            </article>
        </slide>

        <slide>
            <hgroup>
                <h2>What's a Custom HTML Tag?</h2>
            </hgroup>
            <article>
                <img src="img/custom.jpg" />
            </article>
        </slide>

        <slide>
            <hgroup>
                <h2>Example</h2>
                <h3>Simple HTML</h3>
            </hgroup>
            <article>
                <p>HTML</p>
                <pre class="code prettyprint">Copyright &copy; &lt;ydate data-format="%Y"&gt;&lt;/ydate&gt; Yahoo! Inc.</pre>

                <p>Output</p>
                <div class="output">Copyright &copy; <ydate data-format="%Y"></ydate> Yahoo! Inc.</div>
            </article>
        </slide>

        <slide>
            <hgroup>
                <h2>Example (cont)</h2>
                <h3>Dynamically Create More Tags</h3>
            </hgroup>
            <article>
                <p>JavaScript</p>
                <pre class="code prettyprint">btn.on('click', function(e) {
    container.append('&lt;ydate data-format="%T"&gt;&lt;/ydate&gt;,&nbsp;');
});</pre>

                <p>Output <input id="append_tag_btn" type="submit" value="New Tag" /></p>
                <div id="append_tag_container" class="output"></div>
                <script type="text/javascript">
                Y.use('node', function(Y) {
                    Y.one('#append_tag_btn').on('click', function(e) {
                        Y.one('#append_tag_container').append('<ydate data-format="%T"></ydate>,&nbsp;');
                    });
                });
                </script>
            </article>
        </slide>

        <slide>
            <hgroup>
                <h2>Example (cont)</h2>
                <h3>Update Existing Tag</h3>
            </hgroup>
            <article>
                <p>HTML</p>
                <pre class="code prettyprint">&lt;ydate data-format="%T"&gt;&lt;/ydate&gt;</pre>

                <p>JavaScript</p>
                <pre class="code prettyprint">btn.on('click', function(e) {
    container.one('ydate').tag.set('date', new Date());
});</pre>

                <p>Output <input id="update_tag_btn" type="submit" value="Update Tag" /></p>
                <div id="update_tag_container" class="output"><ydate data-format="%T"></ydate></div>

                <script type="text/javascript">
                Y.use('node', function(Y) {
                    Y.one('#update_tag_btn').on('click', function(e) {
                        Y.one('#update_tag_container ydate').tag.set('date', new Date());
                    });
                });
                </script>
            </article>
        </slide>

        <slide>
            <hgroup>
                <h2>Example (cont)</h2>
                <h3><em>ydate</em> Definition</h3>
            </hgroup>
            <article>
                <pre class="code prettyprint">Y.Tag.register('ydate', {
    created: function(config) {
        this.addAttr('date', {
            value: new Date(),
            setter: function(value) {
                var date = Y.DataType.Date.format(value, {format: config.format});
                this.get('host').setHTML(date);
                return value;
            }
        });
    }
});</pre>

                <script type="text/javascript">
                Y.use('gallery-tag', function(Y) {
                    Y.Tag.register('ydate', {
                        created: function(config) {
                            this.addAttr('date', {
                                value: new Date(),
                                setter: function(value) {
                                    var date = Y.DataType.Date.format(value, {format: config.format});
                                    this.get('host').setHTML(date);
                                    return value;
                                }
                            });
                        }
                    });
                });
                </script>
            </article>
        </slide>

        <slide>
            <hgroup>
                <h2>Benefits</h2>
            </hgroup>
            <article>
                <p>Get rid of boilerplate markup generation and object instantiation.</p>
                <p>Old and Busted</p>
                <pre class="code prettyprint">Y.one('body').append('&lt;div id="foo"&gt;&lt;/div&gt;');
new Y.Foo({
    srcNode: '#foo'
});</pre>
                <p>New Hotness</p>
                <pre class="code prettyprint">Y.one('body').append('&lt;foo&gt;&lt;/foo&gt;');</pre>
            </article>
        </slide>

        <slide>
            <hgroup>
                <h2>Benefits (cont)</h2>
            </hgroup>
            <article>
                <ul>
                    <li>Easier for non-programmers to use your component &ndash; it's just HTML.</li>
                    <li>Large projects will benefit from not needing to explicitly require modules.</li>
                    <li>Simply append a tag and let the DOM do the work.</li>
                </ul>
            </article>
        </slide>

        <slide>
            <hgroup>
                <h2>Other Features</h2>
            </hgroup>
            <article>
                <p>It's also possible to register attributes. Provides more graceful degredation.</p>
                <pre class="code prettyprint">&lt;img highdpi highdpi:alt="@2x" src="img.jpg" /&gt;</pre>
                <p>Next release will support registering of classes.</p>
            </article>
        </slide>

        <slide>
            <hgroup>
                <h2>Tag Registry</h2>
                <h3>A Collection of Predefined Tags</h3>
            </hgroup>
            <article>
                <p><em>yautocomplete</em></p>
                <div class="output">
                    <yautocomplete data-max-results="i:5"></yautocomplete>
                </div>

                <p><em>ybutton</em></p>
                <div class="output">
                    <ybutton data-label="TEST BUTTON"></ybutton>
                    <ybutton data-label="SAMPLE BUTTON" data-disabled="true"></ybutton>
                </div>
            </article>

            <script type="text/javascript">
            Y.use('tag-yautocomplete', 'tag-ybutton');
            </script>
        </slide>

        <slide>
            <hgroup>
                <h2>Tag Registry (cont)</h2>
                <h3><em>ydial</em> Tag</h3>
            </hgroup>
            <article>
                <ydial data-min="-100" data-max="100" data-value="0"></ydial>
            </article>

            <script type="text/javascript">
            Y.use('tag-ydial');
            </script>
        </slide>

        <slide>
            <hgroup>
                <h2>Tag Registry (cont)</h2>
                <h3><em>ycalendar</em> Tag</h3>
            </hgroup>
            <article>
                <ycalendar></ycalendar>
            </article>

            <script type="text/javascript">
            Y.use('tag-ycalendar');
            </script>
        </slide>

        <slide>
            <hgroup>
                <h2>Data Binding</h2>
                <h3>Using the <em>ybind</em> Tag</h3>
            </hgroup>
            <article>
                <input id="name" type="text" placeholder="Enter your name" />
                <p>Hello, <span ybind="#name" ybind:refkeyup></span>! Have a good day, <ybind data-ybind="#name" data-refkeyup></ybind>.</p>

                <hr />

                <input id="age" type="range" />
                <p>Age: <span ybind="#age" ybind:refchange></span></p>

                <hr />

                <input id="age2" type="range" ybind="#age3" ybind:refchange />
                <input id="age3" type="range" ybind="#age2" ybind:refchange />
                <p id="test">Age: <span ybind="#age2" ybind:refchange></span></p>

                <hr />

                <click-counter>
                    <p>Total clicks: <span ybind="click-counter" ybind:refcount-change></span></p>

                    <form ybind="click-counter" ybind:onsubmit="clicked">
                        <input type="submit" value="Click" />
                    </form>
                </click-counter>
            </article>

            <script type="text/javascript">
            Y.use('tag-ybind', function(Y) { 
                Y.Tag.register('click-counter', {
                    created: function(config) {
                        this.addAttr('count', {value: 0});
                    },

                    clicked: function(e) {
                        e.preventDefault();
                        this.set('count', this.get('count') + 1);
                    }
                });
            });
            </script>
        </slide>

        <slide>
            <hgroup>
                <h2>Learn More</h2>
            </hgroup>
            <article>
                <ul>
                    <li><a href="http://twobit.github.com/yui3-gallery/gallery-tag/">Documentation</a></li>
                    <li><a href="http://yuilibrary.com/gallery/show/tag">Gallery Module</a></li>
                    <li><a href="http://yuilibrary.com/gallery/show/tag-registry">Tag Registry</a></li>
                    <li><a href="http://yuilibrary.com/gallery/show/event-inserted">Inserted Event</a> - Event fires whenever a selector matches a node. Tag uses this for inserted node events.</li>
                    <li><a href="http://mozilla.github.com/x-tag/">X-Tag</a> - Initial inspiration for Tag Module.</li>
                </ul>
            </article>
        </slide>

        <slide>
            <hgroup>
                <h2>Questions/Comments?</h2>
            </hgroup>
        </slide>
    </slides>

    <script src="../assets/vendor/prettify/prettify-min.js"></script>
    <script>prettyPrint();</script>
</body>
</html>
